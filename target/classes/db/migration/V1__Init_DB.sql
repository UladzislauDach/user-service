alter table if exists permission
    drop constraint if exists permission_role_fk;
alter table if exists users
    drop constraint if exists users_role_fk;
drop table if exists permission cascade;
drop table if exists role cascade;
drop table if exists users cascade;
create table permission
(
    id         int8 generated by default as identity,
    created_at timestamp not null,
    value      varchar(255) not null,
    role       int8 ,
    primary key (id)
);
create table role
(
    id         int8 generated by default as identity not null,
    created_at timestamp not null,
    name       varchar(255) not null,
    primary key (id)
);
create table users
(
    id         int8 generated by default as identity,
    created_at timestamp not null,
    first_name varchar(255) not null,
    last_name  varchar(255) not null,
    login      varchar(255) not null,
    password   varchar(255) not null,
    role_id    int8,
    primary key (id)
);
alter table if exists permission
    add constraint permission_role_fk foreign key (role) references role;
alter table if exists users
    add constraint users_role_fk foreign key (role_id) references role;